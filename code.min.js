function createPopup(){minDate=moment(observatoriesCache[0].timeStart).toDate(),maxDate=moment(observatoriesCache[0].timeEnd).toDate(),$("#startDateDatepicker").datepicker({width:"100%",minDate:minDate,maxDate:maxDate}),$("#satSel").select2({placeholder:"Select a satellite",allowClear:!0,minimumInputLength:0,width:"100%"}).on("change",function(A){var e=$("#satSel").val(),t=_.findWhere(observatoriesCache,{id:e}),a=moment(t.timeStart).toDate(),i=moment(t.timeEnd).toDate();$("#startDateDatepicker").datepicker("option","minDate",a),$("#startDateDatepicker").datepicker("option","maxDate",i),$("#startDateDatepicker").val(""),$("#endDateDatepicker").datepicker("option","minDate",a),$("#endDateDatepicker").datepicker("option","maxDate",i),$("#endDateDatepicker").val("")}),$("#startHourTimepicker").timepicker({timeFormat:"HH:mm:ss",dynamic:!1,dropdown:!1,scrollbar:!1}),$("#endDateDatepicker").datepicker({width:"100%",minDate:minDate,maxDate:maxDate}),$("#endHourTimepicker").timepicker({timeFormat:"HH:mm:ss",dynamic:!1,dropdown:!1,scrollbar:!1}),$("#orbitType").select2({placeholder:"Select a State",allowClear:!0,minimumInputLength:0,width:"100%"}),$('[data-toggle="tooltip"]').tooltip()}function cleanAll(){viewer.entities.removeAll()}function satelliteAdd(){var A={satSel:$("#satSel").val(),startDateDatepicker:$("#startDateDatepicker").val(),startHourTimepicker:$("#startHourTimepicker").val(),endDateDatepicker:$("#endDateDatepicker").val(),endHourTimepicker:$("#endHourTimepicker").val(),orbitType:$("#orbitType").val(),inputColor:$("#inputColor").val()};iso8601RegExp=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})([T\\s](\\d{2}))?(:(\\d{2}))?(:(\\d{2}))?(\\.(\\d{3}))?Z?");var e=moment($("#startDateDatepicker").val(),"DD/MM/YYYY").format("YYYY-MM-DD")+" "+$("#startHourTimepicker").val(),t=moment($("#endDateDatepicker").val(),"DD/MM/YYYY").format("YYYY-MM-DD")+" "+$("#endHourTimepicker").val();if(minDate>moment($("#startDateDatepicker").val(),"DD/MM/YYYY")||moment($("#startDateDatepicker").val(),"DD/MM/YYYY")>maxDate)jAlert2("Invalid Start date","error");else if(minDate>moment($("#endDateDatepicker").val(),"DD/MM/YYYY")||moment($("#endDateDatepicker").val(),"DD/MM/YYYY")>maxDate)jAlert2("Invalid End date","error");else if(iso8601RegExp.test(e))if(e=getIso8601FromInput(e),iso8601RegExp.test(t))if(t=getIso8601FromInput(t),getDateFromIso8601(e)>=getDateFromIso8601(t))jAlert2("Start Time must be less than Stop Time","error");else{var a=$("#satSel").val(),i=e.replace(/-\s*/g,"");i=(i=i.replace(/:\s*/g,"")).replace(".000","");var r=t.replace(/-\s*/g,"");r=(r=r.replace(/:\s*/g,"")).replace(".000",""),$.ajax({type:"GET",url:"https://sscweb.sci.gsfc.nasa.gov/WS/sscr/2/locations/"+a+"/"+i+","+r+"/geo/",data:{},dataType:"json",contentType:"application/json",success:_.bind(addSatellitesToMap,this,A),error:getLocationsError})}else jAlert2("Invalid Stop Time","error");else jAlert2("Invalid Start Time","error")}function hexToRgb(A){A=A.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(A,e,t,a){return e+e+t+t+a+a});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(A);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function addSatellitesToMap(A,e){if(null!=e.Result.Data){for(var t=e.Result.Data[1][0].Coordinates[1][0].X[1],a=e.Result.Data[1][0].Coordinates[1][0].Y[1],i=e.Result.Data[1][0].Coordinates[1][0].Z[1],r=e.Result.Data[1][0].RadialLength[1],o=[],n=[],s=0;s<t.length;s++){var l=geo2gdz(t[s],a[s],i[s]);o.push(l[0]),o.push(l[1]);var d=1e3*(r[s]-6371.2);o.push(math.round(d,1)),n.push(l[0]),n.push(l[1])}var p="";if(2==A.orbitType){if(o[o.length-1]>6e8&&o[o.length-1]<=17e8)jAlert2("Very hight altitude "+o[2]+" meters","warning");else if(o[o.length-1]>17e8)return void jAlert2("Very hight altitude "+o[2]+" meters","error");p=Cesium.Cartesian3.fromDegreesArrayHeights(o)}else p=Cesium.Cartesian3.fromDegreesArray(n);var m=hexToRgb(A.inputColor),c=(viewer.entities.add({name:A.satSel+" orbit",polyline:{positions:p,width:2,material:new Cesium.PolylineOutlineMaterialProperty({color:Cesium.Color.fromBytes(m.r,m.g,m.b,255),outlineWidth:1})}}),$("#satelliteDetailInit").html());c=(c=c.replace("longs",o[0])).replace("lats",o[1]),2==A.orbitType&&(c=c.replace("alts",o[2])),2==A.orbitType?viewer.entities.add({name:A.satSel,description:c,position:Cesium.Cartesian3.fromDegrees(o[0],o[1],o[2]),billboard:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIMCwEtIYadOQAAAclJREFUSMe1ls9qFEEQxn+dbF88xINbrieR4BvEJ8glIYh4EsKuIggheIh4EQKhDk18AQ++gHcPGtSA+ACibyAeEhC1lYCHRamE9VKBYTK7TG+Sgmaamvoz9dVX3QMtRdQa92cqojYnanMlPp3CHFv+fHJeCS6UVj3TFvdpbSZWkFNE1DrAxZzi71rgLnCQUzyaugKXFWBf1HrACBiJ2hVgD1gqhqhGx5BTfAWsAzvAdV+vgbWc4htRC8X0FbVZUVupOonaXVH756tfe3dT1GIJ37uiNhS1QS3Qmqg9qOkGbttthKiprJziL2AeeCRqfW/2AtAFeqK24Lo+sAHMu88JuMPxhPoQVXk+crwXgYdAD7jh7z4BP4DnwAfgCxAqvkNgO6f4Z6YlarMNuiP/iDDJMYgaOcWmPvScOc9yii8comNa7uYUP4vaKvAYuJ1T/NZ6CEXtkjfuXq2h9xuavOq2l0tY1BG1Ww2B/o6h6bJPfPG5HyrBP4raO1F76/tB1WYcJKFFwmXgpTNq09VPga/AnZzizmnPovfANW9iAEJO8TtwFdg91X3gDDsEfo4ZRsaxsFUFkxzb2pTeaMPSG600wTbnJdP+tvwHQH/c3vjnMgoAAAAASUVORK5CYII="}}):viewer.entities.add({name:A.satSel,description:c,position:Cesium.Cartesian3.fromDegrees(o[0],o[1]),billboard:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AIMCwEtIYadOQAAAclJREFUSMe1ls9qFEEQxn+dbF88xINbrieR4BvEJ8glIYh4EsKuIggheIh4EQKhDk18AQ++gHcPGtSA+ACibyAeEhC1lYCHRamE9VKBYTK7TG+Sgmaamvoz9dVX3QMtRdQa92cqojYnanMlPp3CHFv+fHJeCS6UVj3TFvdpbSZWkFNE1DrAxZzi71rgLnCQUzyaugKXFWBf1HrACBiJ2hVgD1gqhqhGx5BTfAWsAzvAdV+vgbWc4htRC8X0FbVZUVupOonaXVH756tfe3dT1GIJ37uiNhS1QS3Qmqg9qOkGbttthKiprJziL2AeeCRqfW/2AtAFeqK24Lo+sAHMu88JuMPxhPoQVXk+crwXgYdAD7jh7z4BP4DnwAfgCxAqvkNgO6f4Z6YlarMNuiP/iDDJMYgaOcWmPvScOc9yii8comNa7uYUP4vaKvAYuJ1T/NZ6CEXtkjfuXq2h9xuavOq2l0tY1BG1Ww2B/o6h6bJPfPG5HyrBP4raO1F76/tB1WYcJKFFwmXgpTNq09VPga/AnZzizmnPovfANW9iAEJO8TtwFdg91X3gDDsEfo4ZRsaxsFUFkxzb2pTeaMPSG600wTbnJdP+tvwHQH/c3vjnMgoAAAAASUVORK5CYII="}}),getSateliteDetail(A,o)}else jAlert2("No data","error")}function getLocationsError(A,e,t){jAlert2("Server request error:\n  HTTP error: "+t+"\n  "+e+"\n  ","error")}function geo2gdz(A,e,t){var a=[],i=(math.pow(6378.16,2),math.pow(6356.775,2)),r=180/math.PI,o=math.atan2(e/r,A/r);a.push(math.round(180*o/Math.PI,13));var n=math.sqrt(A*A+e*e),s=math.atan2(t,n);a.push(math.round(180*s/Math.PI,13));var l=math.cos(s);return l<1e-15?(s/=r,(t-1)*math.sqrt(i)):n/l-1,a.push(0),$(location).attr("href").includes("sbesada")?a:[]}function getSatelites(){new Object;$.ajax({type:"GET",url:"https://sscweb.sci.gsfc.nasa.gov/WS/sscr/2/observatories",data:{request:"sbesada"},dataType:"json",contentType:"application/json",success:displayObservatories,error:displayObservatoriesError})}function getSateliteDetail(A,e){var t="https://sscweb.sci.gsfc.nasa.gov/WS/sscr/2";iso8601RegExp=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})([T\\s](\\d{2}))?(:(\\d{2}))?(:(\\d{2}))?(\\.(\\d{3}))?Z?");var a=moment(A.startDateDatepicker,"DD/MM/YYYY").format("YYYY-MM-DD")+" "+A.startHourTimepicker,i=moment(A.endDateDatepicker,"DD/MM/YYYY").format("YYYY-MM-DD")+" "+A.endHourTimepicker;if(iso8601RegExp.test(a))if(a=getIso8601FromInput(a),iso8601RegExp.test(i))if(i=getIso8601FromInput(i),getDateFromIso8601(a)>=getDateFromIso8601(i))jAlert2("Start Time must be less than Stop Time","error");else{var r="<TimeInterval><Start>"+a+"</Start><End>"+i+"</End></TimeInterval>",o="";satId=A.satSel,o+="<Satellites><Id>"+satId+"</Id><ResolutionFactor>2</ResolutionFactor></Satellites>";var n='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><GraphRequest xmlns="http://sscweb.gsfc.nasa.gov/schema">',s='<BFieldModel><InternalBFieldModel>IGRF-10</InternalBFieldModel><ExternalBFieldModel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="Tsyganenko89cBFieldModel"><KeyParameterValues>KP3_3_3</KeyParameterValues></ExternalBFieldModel><TraceStopAltitude>100</TraceStopAltitude></BFieldModel>',l=(new Object,n+r+s+o+getGraphOptions("Orbit")+"</GraphRequest>"),d={control:A,coordinates:e,orbitGif:"",orbitPdf:"",mappedGif:"",mappedPdf:"",seriesGif:"",seriesPdf:""};_.delay(function(){addSatelliteDetail(d,{name:"orbitGif",value:"error"},{name:"orbitPdf",value:"error"})},5e3),_.delay(function(){addSatelliteDetail(d,{name:"seriesGif",value:"error"},{name:"seriesPdf",value:"error"})},5e3),_.delay(function(){addSatelliteDetail(d,{name:"mappedGif",value:"error"},{name:"mappedPdf",value:"error"})},5e3),$.ajax({type:"POST",url:t+"/graphs",data:l,dataType:"xml",contentType:"application/xml",processData:!1,success:_.bind(displayPlotOrbit,this,d),error:plotError});var p=n+r+s+o+getGraphOptions("Mapped")+"</GraphRequest>";$.ajax({type:"POST",url:t+"/graphs",data:p,dataType:"xml",contentType:"application/xml",processData:!1,success:_.bind(displayPlotMapped,this,d),error:plotError});var m=n+r+s+o+getGraphOptions()+"</GraphRequest>";$.ajax({type:"POST",url:t+"/graphs",data:m,dataType:"xml",contentType:"application/xml",processData:!1,success:_.bind(displayPlot,this,d),error:plotError})}else jAlert2("Invalid Stop Time","error");else jAlert2("Invalid Start Time","error")}function addSatelliteDetail(A,e,t){if("orbitGif"==e.name&&(A.orbitGif=e.value),"orbitPdf"==t.name&&(A.orbitPdf=t.value),"mappedGif"==e.name&&(A.mappedGif=e.value),"mappedPdf"==t.name&&(A.mappedPdf=t.value),"seriesGif"==e.name&&(A.seriesGif=e.value),"seriesPdf"==t.name&&(A.seriesPdf=t.value),""!=A.orbitGif&&""!=A.orbitPdf&&""!=A.mappedGif&&""!=A.mappedPdf&&""!=A.seriesGif&&""!=A.seriesPdf){var a=$("#satelliteDetail").html(),i=A.coordinates;a=(a=a.replace("longs",i[i.length-3])).replace("lats",i[i.length-2]),2==A.control.orbitType&&(a=a.replace("alts",i[i.length-1])),a=(a=(a=(a=(a=(a=a.replace("orbitGif",A.orbitGif)).replace("orbitPdf",A.orbitPdf)).replace("mappedGif",A.mappedGif)).replace("mappedPdf",A.mappedPdf)).replace("seriesGif",A.seriesGif)).replace("seriesPdf",A.seriesPdf);if(2==A.control.orbitType){if("moon"==A.control.satSel){var r=Cesium.buildModuleUrl("Assets/Textures/moonSmall.jpg");viewer.entities.add({name:A.control.satSel,description:a,position:Cesium.Cartesian3.fromDegrees(i[i.length-3],i[i.length-2],i[i.length-1]),ellipsoid:{radii:new Cesium.Cartesian3(6949600,6949600,6949600),material:new Cesium.ImageMaterialProperty({image:r})}})}else{var o=getAstroImage(A.control.satSel);viewer.entities.add({name:A.control.satSel,description:a,position:Cesium.Cartesian3.fromDegrees(i[i.length-3],i[i.length-2],i[i.length-1]),billboard:{image:o}})}$("#alert").dialog("close")}else{o=getAstroImage(A.control.satSel);viewer.entities.add({name:A.control.satSel,description:a,position:Cesium.Cartesian3.fromDegrees(i[i.length-3],i[i.length-2]),billboard:{image:o}}),$("#alert").dialog("close")}isMobile()||viewer.zoomTo(viewer.entities)}}function displayPlotOrbit(A,e){for(var t={name:"orbitGif",value:"error"},a={name:"orbitPdf",value:"error"},i=$(e).find("Name").map(function(){return $(this).text()}).get(),r=0;r<i.length;r++)i[r].indexOf(".gif")===i[r].length-4?(A.orbitGif=i[r],t.value=i[r]):i[r].indexOf(".pdf")===i[r].length-4&&(A.orbitPdf=i[r],a.value=i[r]);addSatelliteDetail(A,t,a)}function displayPlotMapped(A,e){for(var t={name:"mappedGif",value:"error"},a={name:"mappedPdf",value:"error"},i=$(e).find("Name").map(function(){return $(this).text()}).get(),r=0;r<i.length;r++)i[r].indexOf(".gif")===i[r].length-4?(A.mappedGif=i[r],t.value=i[r]):i[r].indexOf(".pdf")===i[r].length-4&&(A.mappedPdf=i[r],a.value=i[r]);addSatelliteDetail(A,t,a)}function displayPlot(A,e){for(var t={name:"seriesGif",value:"error"},a={name:"seriesPdf",value:"error"},i=$(e).find("Name").map(function(){return $(this).text()}).get(),r=0;r<i.length;r++)i[r].indexOf(".gif")===i[r].length-4?(A.seriesGif=i[r],t.value=i[r]):i[r].indexOf(".pdf")===i[r].length-4&&(A.seriesPdf=i[r],a.value=i[r]);addSatelliteDetail(A,t,a)}function getIso8601FromInput(A){for(var e=iso8601RegExp.exec(A),t=0;t<e.length;t++)void 0===e[t]&&(e[t]="00");return e[1]+"-"+e[2]+"-"+e[3]+"T"+e[5]+":"+e[7]+":"+e[9]+".000Z"}function plotError(A,e,t){var a=$.parseXML(A.responseText);jAlert2("Server request error:\n  HTTP error: "+t+"\n  "+$(a).find(".ErrorMessage").text()+"\n  "+$(a).find(".ErrorDescription").text(),"error")}function getGraphOptions(A){return"Orbit"==A?'<GraphOptions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="OrbitGraphOptions"><CoordinateSystem>Gse</CoordinateSystem><Combined>true</Combined><XyView>true</XyView><XzView>true</XzView><YzView>true</YzView><XrView>true</XrView><SunToRight>false</SunToRight><EvenAxesScale>false</EvenAxesScale><ShowBowShockMagnetopause>true</ShowBowShockMagnetopause><SolarWindPressure>2.1</SolarWindPressure><ImfBz>0.0</ImfBz></GraphOptions>':"Mapped"==A?'<GraphOptions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="MapProjectionGraphOptions"><Trace>BFieldNorth</Trace><CoordinateSystem>Geo</CoordinateSystem><ShowContinents>true</ShowContinents><Projection>Cylindrical</Projection><GroundStations>FSMI</GroundStations><GroundStations>WHOR</GroundStations><GroundStations>FSIM</GroundStations><GroundStations>GAK</GroundStations><MapLimits><MinLatitude>-90.0</MinLatitude><MaxLatitude>90.0</MaxLatitude><MinLongitude>-180.0</MinLongitude><MaxLongitude>180.0</MaxLongitude></MapLimits><PolarMapOrientation>Equatorial</PolarMapOrientation><LongitudeVerticalDown>0.0</LongitudeVerticalDown><Title>Mapped Plot Test</Title></GraphOptions>':'<GraphOptions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="TimeSeriesGraphOptions"><CoordinateOptions><CoordinateSystem>Gse</CoordinateSystem><Component>X</Component></CoordinateOptions><CoordinateOptions><CoordinateSystem>Gse</CoordinateSystem><Component>Y</Component></CoordinateOptions><CoordinateOptions><CoordinateSystem>Gse</CoordinateSystem><Component>Z</Component></CoordinateOptions><ValueOptions><RadialDistance>true</RadialDistance><BFieldStrength>true</BFieldStrength><DipoleLValue>true</DipoleLValue><DipoleInvLat>true</DipoleInvLat></ValueOptions><DistanceFromOptions><NeutralSheet>true</NeutralSheet><BowShock>true</BowShock><MPause>true</MPause><BGseXYZ>true</BGseXYZ></DistanceFromOptions><BFieldTraceOptions><CoordinateSystem>Geo</CoordinateSystem><Hemisphere>North</Hemisphere><FootpointLatitude>true</FootpointLatitude><FootpointLongitude>true</FootpointLongitude><FieldLineLength>true</FieldLineLength></BFieldTraceOptions></GraphOptions>'}function getDateFromIso8601(A){for(var e=iso8601RegExp.exec(A),t=0;t<e.length;t++)void 0===e[t]&&(e[t]=0);return new Date(Date.UTC(e[1],e[2]-1,e[3],e[5],e[7],e[9],e[11]))}function validTimeRange(A,e,t){var a=getDateFromIso8601(A.StartTime),i=getDateFromIso8601(A.EndTime);return e>=a&&t<=i?"":"Time range outside of data for "+A.Name+".\n\nIt must be within "+A.StartTime+"\nto "+A.EndTime+"."}function displayObservatories(A){observatoriesCache=[];var e,t={id:"",timeStart:"",timeEnd:""},a=new Object;A.Observatory[1].sort(function(A,e){return A.Name<e.Name?-1:A.Name>e.Name?1:0});for(var i=0;i<A.Observatory[1].length;i++){if(observ=A.Observatory[1][i],e!=observ.Name)if(a[observ.Id]=observ,"ace"==observ.Id){$("#satSel").append('<option value="'+observ.Id+'" title="'+observ.StartTime[1]+" to "+observ.EndTime[1]+'" selected="selected">'+observ.Name+"</option>");t={id:observ.Id,timeStart:observ.StartTime[1],timeEnd:observ.EndTime[1]};observatoriesCache.push(t)}else{$("#satSel").append('<option value="'+observ.Id+'" title="'+observ.StartTime[1]+" to "+observ.EndTime[1]+'">'+observ.Name+"</option>");t={id:observ.Id,timeStart:observ.StartTime[1],timeEnd:observ.EndTime[1]};observatoriesCache.push(t)}e=observ.Name}createPopup()}function displayObservatoriesError(A,e,t){jAlert2("Server request error:\n  HTTP error: "+t+"\n  "+e+"\n  ","error")}function jAlert2(A,e){var t="alert-success_dialog";e&&"error"==e?(t="alert-danger_dialog",_.delay(function(){$("#alert").dialog("close")},5e3)):e&&"warning"==e&&(t="alert-warning_dialog",_.delay(function(){$("#alert").dialog("close")},5e3)),$("#alert").dialog("instance")&&($($("#alert").siblings()[1]).removeClass("alert-danger_dialog"),$($("#alert").siblings()[1]).removeClass("alert-success_dialog"),$($("#alert").siblings()[1]).removeClass("alert-warning_dialog"),$($("#alert").siblings()[1]).addClass(t),$("#alert.ui-widget-content").css({color:"#ffffff"}));var a=$("#toolbar");$("#alert").html(A).dialog({resizable:!1,modal:!1,dialogClass:t,show:"blind",hide:"blind",create:function(A,e){$($("#alert").siblings()[0]).hide(),$($("#alert").siblings()[1]).addClass(t),$("#alert.ui-widget-content").css({color:"#ffffff"})},position:{my:"left top",at:"left+10 top+45",of:a},buttons:[{text:"Close",click:function(){$(this).dialog("close")},class:t}]})}function isMobile(){return!!(screen.availWidth<=800||window.innerWidth<=800||navigator.userAgent.toLowerCase().includes("mobile"))}function getAstroImage(A){return"moon"==A||"mars"==A||"mercury"==A||"sun"==A?"data:image/png;base64,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":"data:image/png;base64,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"}$(document).ready(function(){$("#satelliteDetail").load("https://sbesada.github.io/satellites/templates/satelliteDetail.html"),$("#satelliteDetailInit").load("https://sbesada.github.io/satellites/templates/satelliteDetailInit.html"),getSatelites(),$(location).attr("href").includes("sbesada")&&(Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlOGNiNWRhNC05ZWJhLTRiZWEtODk2ZC0yNDAzMzVkZjNiNTEiLCJpZCI6MjAzMTYsInNjb3BlcyI6WyJhc2wiLCJhc3IiLCJhc3ciLCJnYyJdLCJpYXQiOjE1NzcyMTE3Mzd9.DAwN8uXToLHhXiM0p92MBYF8tuMkfzOBOgScFQYu1NQ"),viewer=new Cesium.Viewer("cesiumContainer",{sceneMode:Cesium.SceneMode.SCENE3D,imageryProvider:new Cesium.TileMapServiceImageryProvider({url:Cesium.buildModuleUrl("Assets/Textures/NaturalEarthII")}),baseLayerPicker:!0,geocoder:!1,mapProjection:new Cesium.WebMercatorProjection}),viewer.scene.moon=new Cesium.Moon,viewer.scene.moon.show=!1,$("#control").on("click",function(){if(!$("#dialog").dialog("instance")||!$("#dialog").dialog("isOpen")){var A="Satellites & Astro (draggable)";if(isMobile()){A="Satellites & Astro";$("#control").css("color"),window.matchMedia("(orientation: portrait)");if(screen.availWidth>screen.availHeight||window.innerWidth>window.innerHeight)return void jAlert2("No available in landscape mode","error")}$("#dialog").dialog({minWidth:385,maxHeight:405,resizable:!1,title:A,dialogClass:"cesium-infoBox cesium-infoBox-visible"})}}),$("#add").on("click",function(){""!=$("#satSel").val()&&""!=$("#startDateDatepicker").val()&&""!=$("#startHourTimepicker").val()&&""!=$("#endDateDatepicker").val()&&""!=$("#endHourTimepicker").val()&&""!=$("#orbitType").val()&&""!=$("#inputColor").val()?(isMobile()&&$("#dialog").dialog("close"),jAlert2("Loading"),satelliteAdd()):jAlert2("All fileds are mandatory","error")}),$("#clean").on("click",function(){cleanAll()})});